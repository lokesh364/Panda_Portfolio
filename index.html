<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyFolio - Create Your Professional Portfolio</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .playfair {
            font-family: 'Playfair Display', serif;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 10px;
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
            50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.6); }
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        .animate-slide-in {
            animation: slideIn 0.4s ease-out forwards;
        }
        
        .step-hidden {
            display: none;
        }
        
        .step-active {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }
        
        /* Glass morphism */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Progress bar animation */
        .progress-fill {
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Input focus effects */
        .input-focus-effect:focus {
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        
        /* Card hover effects */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        /* Skill tag animation */
        .skill-tag {
            transition: all 0.2s ease;
        }
        .skill-tag:hover {
            transform: scale(1.05);
        }
        
        /* Toast notification */
        .toast {
            animation: slideIn 0.3s ease-out, fadeOut 0.3s ease-out 2.7s forwards;
        }
        
        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }
        
        /* Theme previews */
        .theme-card {
            transition: all 0.3s ease;
        }
        .theme-card:hover {
            transform: scale(1.02);
        }
        .theme-card.selected {
            ring: 4px;
            ring-color: #6366f1;
        }
        
        /* Preview iframe styling */
        .preview-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 16px;
        }
        
        /* Toggle switch */
        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
            background: #e2e8f0;
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .toggle-switch.active {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .toggle-switch.active::after {
            left: 26px;
        }
        
        /* Code viewer */
        .code-viewer {
            background: #1e293b;
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 12px;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        /* Tabs */
        .tab-btn {
            transition: all 0.3s;
        }
        .tab-btn.active {
            background: white;
            color: #6366f1;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50">
    <!-- Decorative Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float" style="animation-delay: 2s;"></div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Header -->
    <header class="relative z-10 py-6 px-4">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                    <i class="fas fa-folder-open text-white text-xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-bold gradient-text">MyFolio</h1>
                    <p class="text-xs text-gray-500">Create stunning portfolios</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <button id="togglePreview" class="hidden md:flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-md hover:shadow-lg transition-all text-gray-700">
                    <i class="fas fa-eye"></i>
                    <span>Live Preview</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 max-w-7xl mx-auto px-4 pb-12">
        <div class="grid lg:grid-cols-2 gap-8">
            <!-- Form Section -->
            <div class="space-y-6">
                <!-- Progress Bar -->
                <div class="glass rounded-2xl p-6 shadow-xl">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="font-semibold text-gray-800">Your Progress</h2>
                        <span id="progressText" class="text-sm text-indigo-600 font-medium">Step 1 of 7</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div id="progressBar" class="progress-fill h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full" style="width: 14.28%"></div>
                    </div>
                    <!-- Step Indicators -->
                    <div class="flex justify-between mt-4">
                        <div class="step-indicator flex flex-col items-center" data-step="1">
                            <div class="w-10 h-10 rounded-full bg-indigo-500 text-white flex items-center justify-center text-sm font-medium shadow-lg">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-600">Personal</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="2">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Education</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="3">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-code"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Skills</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="4">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Projects</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="5">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Certs</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="6">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-share-alt"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Social</span>
                        </div>
                        <div class="step-indicator flex flex-col items-center" data-step="7">
                            <div class="w-10 h-10 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-sm font-medium">
                                <i class="fas fa-palette"></i>
                            </div>
                            <span class="text-xs mt-1 text-gray-400">Theme</span>
                        </div>
                    </div>
                </div>

                <!-- Form Steps Container -->
                <div class="glass rounded-2xl p-8 shadow-xl">
                    <!-- Step 1: Personal Info -->
                    <div id="step1" class="step-active">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-user text-indigo-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Personal Information</h3>
                                <p class="text-sm text-gray-500">Let's start with the basics</p>
                            </div>
                        </div>
                        
                        <div class="space-y-5">
                            <!-- Profile Photo Upload -->
                            <div class="group">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-camera mr-2 text-indigo-500"></i>Profile Photo
                                </label>
                                <div class="flex flex-col gap-3">
                                    <div class="flex gap-3 items-center">
                                        <label class="flex-1 cursor-pointer">
                                            <div class="flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 border-dashed border-indigo-300 bg-indigo-50 hover:bg-indigo-100 transition-all">
                                                <i class="fas fa-cloud-upload-alt text-indigo-500"></i>
                                                <span class="text-indigo-600 font-medium">Upload from Gallery</span>
                                            </div>
                                            <input type="file" id="photoFile" accept="image/*" class="hidden">
                                        </label>
                                        <div id="photoPreview" class="w-14 h-14 rounded-xl bg-gray-100 flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300 flex-shrink-0">
                                            <i class="fas fa-user text-gray-400 text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div class="flex-1 h-px bg-gray-200"></div>
                                        <span class="text-xs text-gray-400 font-medium">OR</span>
                                        <div class="flex-1 h-px bg-gray-200"></div>
                                    </div>
                                    <input type="url" id="photoUrl" placeholder="Paste image URL here..." 
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                                </div>
                            </div>

                            <div class="group">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-signature mr-2 text-indigo-500"></i>Full Name <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="fullName" placeholder="e.g., Panda" required
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                            </div>

                            <div class="group">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-id-badge mr-2 text-indigo-500"></i>Professional Title <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="title" placeholder="e.g., Full Stack Developer" required
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                            </div>

                            <div class="group">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-align-left mr-2 text-indigo-500"></i>Bio / About Me
                                </label>
                                <textarea id="bio" rows="4" placeholder="Tell us about yourself..."
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all resize-none"></textarea>
                                <div class="flex justify-between mt-1">
                                    <span class="text-xs text-gray-400">Markdown supported</span>
                                    <span id="bioCount" class="text-xs text-gray-400">0/500</span>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="group">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-envelope mr-2 text-indigo-500"></i>Email
                                    </label>
                                    <input type="email" id="email" placeholder="panda@example.com"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                                </div>
                                <div class="group">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-phone mr-2 text-indigo-500"></i>Phone
                                    </label>
                                    <div class="flex">
                                        <span class="inline-flex items-center px-3 py-3 rounded-l-xl border border-r-0 border-gray-200 bg-gray-50 text-gray-600 text-sm">+91</span>
                                        <input type="tel" id="phone" placeholder="98765 43210"
                                            class="input-focus-effect w-full px-4 py-3 rounded-r-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                                    </div>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="group">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-home mr-2 text-indigo-500"></i>Address
                                    </label>
                                    <input type="text" id="address" placeholder="e.g., Hyderabad, Telangana"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                                </div>
                                <div class="group">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-globe-asia mr-2 text-indigo-500"></i>Country
                                    </label>
                                    <input type="text" id="country" placeholder="India" value="India"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:outline-none transition-all">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Education -->
                    <div id="step2" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-graduation-cap text-emerald-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Academic Details</h3>
                                <p class="text-sm text-gray-500">Add your educational background</p>
                            </div>
                        </div>
                        <div class="space-y-6">
                            <div class="bg-gray-50 rounded-xl p-5 border border-gray-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-school text-blue-500"></i>
                                        <h4 class="font-semibold text-gray-800">10th Class (SSC)</h4>
                                    </div>
                                    <div class="toggle-switch active" data-toggle="ssc" onclick="toggleSection('ssc')"></div>
                                </div>
                                <div id="sscSection" class="space-y-4">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">School Name</label>
                                            <input type="text" id="sscSchool" placeholder="e.g., Sundeep E.M High School"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Board</label>
                                            <select id="sscBoard" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none bg-white">
                                                <option value="">Select Board</option>
                                                <option value="CBSE">CBSE</option>
                                                <option value="ICSE">ICSE</option>
                                                <option value="State Board">State Board</option>
                                                <option value="Other">Other</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Percentage / CGPA</label>
                                            <input type="text" id="sscPercentage" placeholder="e.g., 92% or 9.2 CGPA"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Year of Passing</label>
                                            <input type="text" id="sscYear" placeholder="e.g., 2018"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-gray-50 rounded-xl p-5 border border-gray-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-book-open text-purple-500"></i>
                                        <h4 class="font-semibold text-gray-800">Intermediate (12th Class)</h4>
                                    </div>
                                    <div class="toggle-switch active" data-toggle="inter" onclick="toggleSection('inter')"></div>
                                </div>
                                <div id="interSection" class="space-y-4">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">College/School Name</label>
                                            <input type="text" id="interCollege" placeholder="e.g., Vidya Junior College"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Stream</label>
                                            <select id="interStream" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none bg-white">
                                                <option value="">Select Stream</option>
                                                <option value="MPC">MPC (Maths, Physics, Chemistry)</option>
                                                <option value="BiPC">BiPC (Biology, Physics, Chemistry)</option>
                                                <option value="Commerce">Commerce</option>
                                                <option value="Arts">Arts/Humanities</option>
                                                <option value="Other">Other</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Percentage / CGPA</label>
                                            <input type="text" id="interPercentage" placeholder="e.g., 95% or 9.5 CGPA"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Year of Passing</label>
                                            <input type="text" id="interYear" placeholder="e.g., 2020"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-gray-50 rounded-xl p-5 border border-gray-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-university text-orange-500"></i>
                                        <h4 class="font-semibold text-gray-800">B.Tech / Graduation</h4>
                                    </div>
                                    <div class="toggle-switch active" data-toggle="btech" onclick="toggleSection('btech')"></div>
                                </div>
                                <div id="btechSection" class="space-y-4">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">University/College Name</label>
                                            <input type="text" id="btechCollege" placeholder="e.g., St. Anns College of Engineering and Technology"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Degree</label>
                                            <select id="btechDegree" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none bg-white">
                                                <option value="">Select Degree</option>
                                                <option value="B.Tech">B.Tech</option>
                                                <option value="B.E.">B.E.</option>
                                                <option value="B.Sc">B.Sc</option>
                                                <option value="BCA">BCA</option>
                                                <option value="B.Com">B.Com</option>
                                                <option value="BA">BA</option>
                                                <option value="Other">Other</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Branch/Specialization</label>
                                            <select id="btechBranchSelect" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none bg-white">
                                                <option value="">Select Branch</option>
                                                <option value="Computer Science and Engineering (CSE)">Computer Science and Engineering (CSE)</option>
                                                <option value="Information Technology (IT)">Information Technology (IT)</option>
                                                <option value="Electronics and Communication Engineering (ECE)">Electronics and Communication Engineering (ECE)</option>
                                                <option value="Electrical and Electronics Engineering (EEE)">Electrical and Electronics Engineering (EEE)</option>
                                                <option value="Mechanical Engineering">Mechanical Engineering</option>
                                                <option value="Civil Engineering">Civil Engineering</option>
                                                <option value="Artificial Intelligence and Machine Learning (AI&ML)">AI & ML</option>
                                                <option value="Data Science">Data Science</option>
                                                <option value="Cyber Security">Cyber Security</option>
                                                <option value="Other">Other (Type Manually)</option>
                                            </select>
                                            <input type="text" id="btechBranch" placeholder="Type your branch here..."
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all mt-2 hidden">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">CGPA / Percentage</label>
                                            <input type="text" id="btechCgpa" placeholder="e.g., 8.5 CGPA or 85%"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Start Year</label>
                                            <input type="text" id="btechStartYear" placeholder="e.g., 2020"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">End Year (or Expected)</label>
                                            <input type="text" id="btechEndYear" placeholder="e.g., 2024 or Present"
                                                class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:outline-none transition-all">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <p class="text-xs text-gray-500 text-center">
                                <i class="fas fa-info-circle mr-1"></i>
                                Toggle off sections you don't want to include
                            </p>
                        </div>
                    </div>

                    <!-- Step 3: Skills -->
                    <div id="step3" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-code text-purple-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Skills & Expertise</h3>
                                <p class="text-sm text-gray-500">Show off what you're good at</p>
                            </div>
                        </div>
                        <div class="space-y-5">
                            <div class="group">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-plus-circle mr-2 text-purple-500"></i>Add Skills
                                </label>
                                <div class="flex gap-3">
                                    <input type="text" id="skillInput" placeholder="e.g., JavaScript, React, Python"
                                        class="input-focus-effect flex-1 px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:outline-none transition-all">
                                    <select id="skillLevel" class="px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:outline-none bg-white">
                                        <option value="Beginner">Beginner</option>
                                        <option value="Intermediate" selected>Intermediate</option>
                                        <option value="Advanced">Advanced</option>
                                        <option value="Expert">Expert</option>
                                    </select>
                                    <button id="addSkillBtn" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-xl hover:shadow-lg transition-all">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="bg-gray-50 rounded-xl p-4 min-h-32">
                                <p class="text-sm text-gray-500 mb-3">Your Skills:</p>
                                <div id="skillsContainer" class="flex flex-wrap gap-2"></div>
                                <p id="noSkillsMessage" class="text-sm text-gray-400 italic">No skills added yet. Start typing above!</p>
                            </div>
                            <!-- Branch-wise Skills Tabs -->
                            <div class="space-y-4">
                                <p class="text-sm font-medium text-gray-700">
                                    <i class="fas fa-laptop-code mr-2 text-purple-500"></i>Quick Add Skills by Branch:
                                </p>
                                
                                <!-- Branch Tabs -->
                                <div class="flex flex-wrap gap-2 border-b border-gray-200 pb-3">
                                    <button class="branch-tab active px-3 py-1.5 bg-purple-500 text-white rounded-lg text-xs font-medium transition-all" data-branch="cse">CSE/IT</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="ece">ECE</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="eee">EEE</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="mech">Mechanical</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="civil">Civil</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="aiml">AI/ML</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="ds">Data Science</button>
                                    <button class="branch-tab px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-purple-100 transition-all" data-branch="cyber">Cyber Security</button>
                                </div>

                                <!-- CSE/IT Skills -->
                                <div id="skills-cse" class="branch-skills">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-code mr-1"></i> Computer Science & IT</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">C</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">C++</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Java</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Python</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">JavaScript</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">HTML/CSS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">React</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Node.js</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SQL</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MongoDB</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">DSA</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">OOPs</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">DBMS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">OS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Computer Networks</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Git</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">AWS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Docker</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Linux</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">REST APIs</button>
                                    </div>
                                </div>

                                <!-- ECE Skills -->
                                <div id="skills-ece" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-microchip mr-1"></i> Electronics & Communication</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">C</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Embedded C</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">VHDL</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Verilog</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MATLAB</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Arduino</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Raspberry Pi</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">PCB Design</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Cadence</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">LTspice</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Signal Processing</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">VLSI Design</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">8051 Microcontroller</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">ARM</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">IoT</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Wireless Communication</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Antenna Design</button>
                                    </div>
                                </div>

                                <!-- EEE Skills -->
                                <div id="skills-eee" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-bolt mr-1"></i> Electrical & Electronics</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MATLAB</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Simulink</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">AutoCAD Electrical</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">ETAP</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Power Systems</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Control Systems</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Power Electronics</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">PLC Programming</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SCADA</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Electrical Machines</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Transformers</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Motor Drives</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Renewable Energy</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Solar PV Systems</button>
                                    </div>
                                </div>

                                <!-- Mechanical Skills -->
                                <div id="skills-mech" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-cogs mr-1"></i> Mechanical Engineering</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">AutoCAD</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SolidWorks</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">CATIA</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Creo</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">ANSYS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">FEA</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">CFD</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MATLAB</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Thermodynamics</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Fluid Mechanics</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Heat Transfer</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">CNC Programming</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">3D Printing</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">GD&T</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">IC Engines</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Robotics</button>
                                    </div>
                                </div>

                                <!-- Civil Skills -->
                                <div id="skills-civil" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-building mr-1"></i> Civil Engineering</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">AutoCAD</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Revit</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">BIM</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">STAAD Pro</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">ETABS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SAP2000</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Primavera</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MS Project</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Structural Analysis</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">RCC Design</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Surveying</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">GIS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Geotechnical Engineering</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Transportation Engineering</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Quantity Surveying</button>
                                    </div>
                                </div>

                                <!-- AI/ML Skills -->
                                <div id="skills-aiml" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-brain mr-1"></i> AI & Machine Learning</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Python</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">TensorFlow</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">PyTorch</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Keras</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Scikit-learn</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">NumPy</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Pandas</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">OpenCV</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">NLP</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Computer Vision</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Deep Learning</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Neural Networks</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">CNN</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">RNN</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Transformers</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">LLMs</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">MLOps</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Hugging Face</button>
                                    </div>
                                </div>

                                <!-- Data Science Skills -->
                                <div id="skills-ds" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-chart-bar mr-1"></i> Data Science & Analytics</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Python</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">R Programming</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SQL</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">NumPy</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Pandas</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Matplotlib</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Seaborn</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Tableau</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Power BI</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Excel</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Statistics</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Data Visualization</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Data Mining</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Hadoop</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Spark</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">ETL</button>
                                    </div>
                                </div>

                                <!-- Cyber Security Skills -->
                                <div id="skills-cyber" class="branch-skills hidden">
                                    <p class="text-xs text-purple-600 font-medium mb-2"><i class="fas fa-shield-alt mr-1"></i> Cyber Security</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Ethical Hacking</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Penetration Testing</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Cryptography</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Network Security</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Wireshark</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Metasploit</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Burp Suite</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Nmap</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Kali Linux</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SIEM</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Firewall</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">IDS/IPS</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">OWASP</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Vulnerability Assessment</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">SOC</button>
                                        <button class="quick-skill px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-600 hover:border-purple-400 hover:text-purple-600 transition-all">Malware Analysis</button>
                                    </div>
                                </div>

                                <!-- Soft Skills (Always Visible) -->
                                <div class="mt-4 pt-4 border-t border-gray-200">
                                    <p class="text-xs text-green-600 font-medium mb-2"><i class="fas fa-users mr-1"></i> Soft Skills (Common for All)</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Communication</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Problem Solving</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Team Work</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Leadership</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Time Management</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Critical Thinking</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Adaptability</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Project Management</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Presentation Skills</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Creativity</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Analytical Skills</button>
                                        <button class="quick-skill px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 hover:border-green-400 hover:bg-green-100 transition-all">Attention to Detail</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Projects -->
                    <div id="step4" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-briefcase text-pink-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Projects & Work</h3>
                                <p class="text-sm text-gray-500">Showcase your best work</p>
                            </div>
                        </div>
                        <div class="space-y-5">
                            <div class="bg-gray-50 rounded-xl p-5 space-y-4">
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Project Name</label>
                                        <input type="text" id="projectName" placeholder="e.g., E-Commerce App"
                                            class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-pink-500 focus:outline-none transition-all">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Project URL</label>
                                        <input type="url" id="projectUrl" placeholder="https://project.com"
                                            class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-pink-500 focus:outline-none transition-all">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Project Image URL</label>
                                    <input type="url" id="projectImage" placeholder="https://example.com/project-image.jpg"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-pink-500 focus:outline-none transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                    <textarea id="projectDesc" rows="2" placeholder="Brief description of the project..."
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-pink-500 focus:outline-none transition-all resize-none"></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Technologies Used</label>
                                    <input type="text" id="projectTech" placeholder="React, Node.js, MongoDB (comma separated)"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-pink-500 focus:outline-none transition-all">
                                </div>
                                <button id="addProjectBtn" class="w-full py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2">
                                    <i class="fas fa-plus"></i>
                                    Add Project
                                </button>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-3">Your Projects:</p>
                                <div id="projectsContainer" class="space-y-3"></div>
                                <p id="noProjectsMessage" class="text-sm text-gray-400 italic text-center py-4">No projects added yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 5: Certifications -->
                    <div id="step5" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-certificate text-yellow-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Certifications</h3>
                                <p class="text-sm text-gray-500">Showcase your credentials</p>
                            </div>
                        </div>
                        <div class="space-y-5">
                            <div class="bg-gray-50 rounded-xl p-5 space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-building mr-2 text-yellow-500"></i>Platform
                                    </label>
                                    <select id="certPlatform" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none bg-white">
                                        <option value="">Select Platform</option>
                                        <option value="CodeTantra">CodeTantra</option>
                                        <option value="NPTEL/SWAYAM">NPTEL / SWAYAM</option>
                                        <option value="Coursera">Coursera</option>
                                        <option value="Udemy">Udemy</option>
                                        <option value="Google">Google</option>
                                        <option value="Microsoft">Microsoft</option>
                                        <option value="Amazon Web Services">AWS</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <input type="text" id="certIssuer" placeholder="Enter organization name..."
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all mt-2 hidden">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-certificate mr-2 text-yellow-500"></i>Course / Certification Name
                                    </label>
                                    <input type="text" id="certName" placeholder="e.g., Python for Data Science"
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all">
                                </div>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Issue Date</label>
                                        <input type="month" id="certDate"
                                            class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Credential ID (Optional)</label>
                                        <input type="text" id="certId" placeholder="e.g., ABC123XYZ"
                                            class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Credential URL (Optional)</label>
                                    <input type="url" id="certUrl" placeholder="https://credential.example.com/verify/..."
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-image mr-2 text-yellow-500"></i>Certificate Image (Optional)
                                    </label>
                                    <div class="flex gap-3 items-center">
                                        <label class="flex-1 cursor-pointer">
                                            <div class="flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 border-dashed border-yellow-300 bg-yellow-50 hover:bg-yellow-100 transition-all">
                                                <i class="fas fa-cloud-upload-alt text-yellow-500"></i>
                                                <span class="text-yellow-600 font-medium">Upload Certificate</span>
                                            </div>
                                            <input type="file" id="certImageFile" accept="image/*" class="hidden">
                                        </label>
                                        <div id="certImagePreview" class="w-16 h-16 rounded-xl bg-gray-100 flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300 flex-shrink-0">
                                            <i class="fas fa-file-image text-gray-400 text-xl"></i>
                                        </div>
                                    </div>
                                    <input type="url" id="certImageUrl" placeholder="Or paste certificate image URL..."
                                        class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-yellow-500 focus:outline-none transition-all mt-2">
                                </div>
                                <button id="addCertBtn" class="w-full py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2">
                                    <i class="fas fa-plus"></i>
                                    Add Certification
                                </button>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-3">Your Certifications:</p>
                                <div id="certificationsContainer" class="space-y-3"></div>
                                <p id="noCertsMessage" class="text-sm text-gray-400 italic text-center py-4">No certifications added yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 6: Social Links -->
                    <div id="step6" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-share-alt text-blue-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Social & Links</h3>
                                <p class="text-sm text-gray-500">Connect with the world</p>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="group">
                                <label class="flex items-center gap-2 text-sm font-medium text-gray-700 mb-2">
                                    <i class="fab fa-github text-gray-800"></i>GitHub
                                </label>
                                <input type="url" id="github" placeholder="https://github.com/panda"
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:outline-none transition-all">
                            </div>
                            <div class="group">
                                <label class="flex items-center gap-2 text-sm font-medium text-gray-700 mb-2">
                                    <i class="fab fa-linkedin text-blue-600"></i>LinkedIn
                                </label>
                                <input type="url" id="linkedin" placeholder="https://linkedin.com/in/panda"
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:outline-none transition-all">
                            </div>
                            <div class="group">
                                <label class="flex items-center gap-2 text-sm font-medium text-gray-700 mb-2">
                                    <i class="fab fa-twitter text-blue-400"></i>Twitter / X
                                </label>
                                <input type="url" id="twitter" placeholder="https://twitter.com/panda"
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:outline-none transition-all">
                            </div>
                            <div class="group">
                                <label class="flex items-center gap-2 text-sm font-medium text-gray-700 mb-2">
                                    <i class="fab fa-instagram text-pink-500"></i>Instagram
                                </label>
                                <input type="url" id="instagram" placeholder="https://instagram.com/panda"
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:outline-none transition-all">
                            </div>
                            <div class="group">
                                <label class="flex items-center gap-2 text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-globe text-green-500"></i>Personal Website
                                </label>
                                <input type="url" id="website" placeholder="https://panda.dev"
                                    class="input-focus-effect w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:outline-none transition-all">
                            </div>
                        </div>
                    </div>

                    <!-- Step 7: Theme Selection -->
                    <div id="step7" class="step-hidden">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center">
                                <i class="fas fa-palette text-amber-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Choose Your Theme</h3>
                                <p class="text-sm text-gray-500">Pick a style that represents you</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-indigo-500 overflow-hidden transition-all selected" data-theme="modern">
                                <div class="h-20 bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center">
                                    <div class="w-10 h-10 bg-white rounded-full"></div>
                                </div>
                                <div class="p-2 bg-white">
                                    <h4 class="font-medium text-gray-800 text-sm">Modern</h4>
                                    <p class="text-xs text-gray-500">Clean & Professional</p>
                                </div>
                            </div>
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-gray-200 overflow-hidden hover:border-indigo-400 transition-all" data-theme="minimal">
                                <div class="h-20 bg-white flex items-center justify-center border-b">
                                    <div class="w-10 h-10 bg-gray-800 rounded-full"></div>
                                </div>
                                <div class="p-2 bg-gray-50">
                                    <h4 class="font-medium text-gray-800 text-sm">Minimal</h4>
                                    <p class="text-xs text-gray-500">Simple & Elegant</p>
                                </div>
                            </div>
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-gray-200 overflow-hidden hover:border-indigo-400 transition-all" data-theme="dark">
                                <div class="h-20 bg-gray-900 flex items-center justify-center">
                                    <div class="w-10 h-10 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full"></div>
                                </div>
                                <div class="p-2 bg-gray-800">
                                    <h4 class="font-medium text-white text-sm">Dark</h4>
                                    <p class="text-xs text-gray-400">Bold & Striking</p>
                                </div>
                            </div>
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-gray-200 overflow-hidden hover:border-indigo-400 transition-all" data-theme="creative">
                                <div class="h-20 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 flex items-center justify-center">
                                    <div class="w-10 h-10 bg-white/90 rounded-lg rotate-12"></div>
                                </div>
                                <div class="p-2 bg-white">
                                    <h4 class="font-medium text-gray-800 text-sm">Creative</h4>
                                    <p class="text-xs text-gray-500">Vibrant & Unique</p>
                                </div>
                            </div>
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-gray-200 overflow-hidden hover:border-indigo-400 transition-all" data-theme="ocean">
                                <div class="h-20 bg-gradient-to-br from-cyan-400 via-blue-500 to-blue-600 flex items-center justify-center">
                                    <div class="w-10 h-10 bg-white/80 rounded-full"></div>
                                </div>
                                <div class="p-2 bg-blue-50">
                                    <h4 class="font-medium text-gray-800 text-sm">Ocean</h4>
                                    <p class="text-xs text-gray-500">Cool & Calm</p>
                                </div>
                            </div>
                            <div class="theme-card cursor-pointer rounded-xl border-2 border-gray-200 overflow-hidden hover:border-indigo-400 transition-all" data-theme="sunset">
                                <div class="h-20 bg-gradient-to-r from-orange-400 via-red-500 to-pink-500 flex items-center justify-center">
                                    <div class="w-10 h-10 bg-white/90 rounded-full"></div>
                                </div>
                                <div class="p-2 bg-orange-50">
                                    <h4 class="font-medium text-gray-800 text-sm">Sunset</h4>
                                    <p class="text-xs text-gray-500">Warm & Energetic</p>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6">
                            <label class="block text-sm font-medium text-gray-700 mb-3">Accent Color</label>
                            <div class="flex flex-wrap gap-3">
                                <button class="color-btn w-10 h-10 rounded-full bg-indigo-500 ring-2 ring-offset-2 ring-indigo-500" data-color="#6366f1"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-purple-500 ring-offset-2" data-color="#a855f7"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-pink-500 ring-offset-2" data-color="#ec4899"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-blue-500 ring-offset-2" data-color="#3b82f6"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-teal-500 ring-offset-2" data-color="#14b8a6"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-amber-500 ring-offset-2" data-color="#f59e0b"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-rose-500 ring-offset-2" data-color="#f43f5e"></button>
                                <button class="color-btn w-10 h-10 rounded-full bg-emerald-500 ring-offset-2" data-color="#10b981"></button>
                            </div>
                        </div>

                        <div class="mt-6 bg-gray-50 rounded-xl p-4">
                            <h4 class="font-medium text-gray-800 mb-3">
                                <i class="fas fa-border-style mr-2 text-indigo-500"></i>Border Style
                            </h4>
                            <div class="mb-4">
                                <label class="block text-sm text-gray-600 mb-2">Border Radius</label>
                                <div class="flex gap-2">
                                    <button class="radius-btn flex-1 py-2 px-3 bg-white border-2 border-indigo-500 rounded-lg text-sm font-medium text-indigo-600" data-radius="8">Subtle</button>
                                    <button class="radius-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-radius="16">Rounded</button>
                                    <button class="radius-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-radius="24">Extra Round</button>
                                    <button class="radius-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-radius="0">Sharp</button>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm text-gray-600 mb-2">Card Border</label>
                                <div class="flex gap-2">
                                    <button class="border-width-btn flex-1 py-2 px-3 bg-white border-2 border-indigo-500 rounded-lg text-sm font-medium text-indigo-600" data-border="0">None</button>
                                    <button class="border-width-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-border="1">Thin</button>
                                    <button class="border-width-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-border="2">Medium</button>
                                    <button class="border-width-btn flex-1 py-2 px-3 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:border-indigo-400" data-border="3">Bold</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6 bg-gray-50 rounded-xl p-4">
                            <h4 class="font-medium text-gray-800 mb-3">
                                <i class="fas fa-eye mr-2 text-indigo-500"></i>Show/Hide Sections
                            </h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">About Me Section</span>
                                    <div class="toggle-switch active" data-toggle="showAbout" onclick="toggleVisibility('showAbout')"></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Education Section</span>
                                    <div class="toggle-switch active" data-toggle="showEducation" onclick="toggleVisibility('showEducation')"></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Skills Section</span>
                                    <div class="toggle-switch active" data-toggle="showSkills" onclick="toggleVisibility('showSkills')"></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Projects Section</span>
                                    <div class="toggle-switch active" data-toggle="showProjects" onclick="toggleVisibility('showProjects')"></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Certifications Section</span>
                                    <div class="toggle-switch active" data-toggle="showCertifications" onclick="toggleVisibility('showCertifications')"></div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Contact Info</span>
                                    <div class="toggle-switch active" data-toggle="showContact" onclick="toggleVisibility('showContact')"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="flex justify-between mt-8 pt-6 border-t border-gray-100">
                        <button id="prevBtn" class="px-6 py-3 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-all flex items-center gap-2 opacity-50 cursor-not-allowed" disabled>
                            <i class="fas fa-arrow-left"></i>
                            Previous
                        </button>
                        <button id="nextBtn" class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2">
                            Next Step
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button id="generateBtn" class="hidden px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:shadow-lg transition-all flex items-center gap-2">
                            <i class="fas fa-magic"></i>
                            Generate Portfolio
                        </button>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div id="previewSection" class="hidden lg:block">
                <div class="sticky top-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-800 flex items-center gap-2">
                            <i class="fas fa-eye text-indigo-500"></i>
                            Live Preview
                        </h3>
                        <button id="refreshPreview" class="p-2 bg-white rounded-lg shadow hover:shadow-md transition-all">
                            <i class="fas fa-sync-alt text-gray-600"></i>
                        </button>
                    </div>
                    <div class="preview-container">
                        <div class="bg-white rounded-xl overflow-hidden shadow-2xl" style="height: 600px; overflow-y: auto;">
                            <div id="previewContent" class="p-6">
                                <div class="text-center py-20 text-gray-400">
                                    <i class="fas fa-user-circle text-6xl mb-4"></i>
                                    <p>Start filling the form to see your portfolio preview</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Generated Portfolio Modal -->
    <div id="portfolioModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden shadow-2xl animate-fade-in-up">
            <div class="flex items-center justify-between p-4 border-b bg-gradient-to-r from-indigo-500 to-purple-500">
                <h3 class="text-xl font-bold text-white flex items-center gap-2">
                    <i class="fas fa-check-circle"></i>
                    Your MyFolio is Ready! 
                </h3>
                <div class="flex items-center gap-2">
                    <button id="copyCodeBtn" class="px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all flex items-center gap-2">
                        <i class="fas fa-copy"></i>
                        Copy Code
                    </button>
                    <button id="downloadBtn" class="px-4 py-2 bg-white text-indigo-600 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 font-medium">
                        <i class="fas fa-download"></i>
                        Download HTML
                    </button>
                    <button id="closeModal" class="p-2 hover:bg-white/20 rounded-lg transition-all text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="flex bg-gray-100 p-1 mx-4 mt-4 rounded-lg">
                <button class="tab-btn active flex-1 py-2 px-4 rounded-lg text-sm font-medium" data-tab="preview">
                    <i class="fas fa-eye mr-2"></i>Preview
                </button>
                <button class="tab-btn flex-1 py-2 px-4 rounded-lg text-sm font-medium text-gray-600" data-tab="code">
                    <i class="fas fa-code mr-2"></i>View Code
                </button>
            </div>
            <div class="p-4 overflow-auto" style="height: calc(95vh - 160px);">
                <div id="previewTab" class="tab-content">
                    <iframe id="portfolioFrame" class="w-full h-full bg-white rounded-lg shadow-lg border" style="min-height: 500px;"></iframe>
                </div>
                <div id="codeTab" class="tab-content hidden">
                    <div class="relative">
                        <div class="absolute top-2 right-2 z-10">
                            <button id="copyCodeBtn2" class="px-3 py-1.5 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg text-sm flex items-center gap-2 transition-all">
                                <i class="fas fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre id="codeViewer" class="code-viewer rounded-xl p-4 overflow-auto max-h-[60vh]"></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Portfolio Data Store
        const portfolioData = {
            personal: { photoUrl: '', fullName: '', title: '', bio: '', email: '', phone: '', address: '', country: 'India' },
            education: {
                ssc: { enabled: true, school: '', board: '', percentage: '', year: '' },
                inter: { enabled: true, college: '', stream: '', percentage: '', year: '' },
                btech: { enabled: true, college: '', degree: '', branch: '', cgpa: '', startYear: '', endYear: '' }
            },
            skills: [],
            projects: [],
            certifications: [],
            social: { github: '', linkedin: '', twitter: '', instagram: '', website: '' },
            theme: 'modern',
            accentColor: '#6366f1',
            borderRadius: 8,
            borderWidth: 0,
            visibility: { showAbout: true, showEducation: true, showSkills: true, showProjects: true, showCertifications: true, showContact: true }
        };

        let currentStep = 1;
        const totalSteps = 7;

        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            updatePreview();
        });

        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            toast.className = 'toast ' + bgColor + ' text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3';
            toast.innerHTML = '<i class="fas fa-check-circle"></i><span>' + message + '</span>';
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function toggleSection(section) {
            const toggle = document.querySelector('[data-toggle="' + section + '"]');
            const sectionDiv = document.getElementById(section + 'Section');
            toggle.classList.toggle('active');
            portfolioData.education[section].enabled = toggle.classList.contains('active');
            if (sectionDiv) sectionDiv.style.display = toggle.classList.contains('active') ? 'block' : 'none';
            updatePreview();
        }

        function toggleVisibility(option) {
            const toggle = document.querySelector('[data-toggle="' + option + '"]');
            toggle.classList.toggle('active');
            portfolioData.visibility[option] = toggle.classList.contains('active');
            updatePreview();
        }

        function setupEventListeners() {
            document.getElementById('prevBtn').addEventListener('click', () => navigateStep(-1));
            document.getElementById('nextBtn').addEventListener('click', () => navigateStep(1));
            document.getElementById('generateBtn').addEventListener('click', generatePortfolio);

            document.getElementById('photoFile').addEventListener('change', handlePhotoUpload);
            document.getElementById('photoUrl').addEventListener('input', handlePhotoUrlPreview);
            document.getElementById('fullName').addEventListener('input', e => { portfolioData.personal.fullName = e.target.value; updatePreview(); });
            document.getElementById('title').addEventListener('input', e => { portfolioData.personal.title = e.target.value; updatePreview(); });
            document.getElementById('bio').addEventListener('input', handleBioInput);
            document.getElementById('email').addEventListener('input', e => { portfolioData.personal.email = e.target.value; updatePreview(); });
            document.getElementById('phone').addEventListener('input', e => { portfolioData.personal.phone = e.target.value; updatePreview(); });
            document.getElementById('address').addEventListener('input', e => { portfolioData.personal.address = e.target.value; updatePreview(); });
            document.getElementById('country').addEventListener('input', e => { portfolioData.personal.country = e.target.value; updatePreview(); });

            ['sscSchool', 'sscBoard', 'sscPercentage', 'sscYear'].forEach(id => {
                document.getElementById(id).addEventListener('input', updateEducationData);
            });
            ['interCollege', 'interStream', 'interPercentage', 'interYear'].forEach(id => {
                document.getElementById(id).addEventListener('input', updateEducationData);
            });
            ['btechCollege', 'btechDegree', 'btechBranch', 'btechCgpa', 'btechStartYear', 'btechEndYear'].forEach(id => {
                document.getElementById(id).addEventListener('input', updateEducationData);
            });

            document.getElementById('btechBranchSelect').addEventListener('change', e => {
                const manualInput = document.getElementById('btechBranch');
                if (e.target.value === 'Other') {
                    manualInput.classList.remove('hidden');
                    manualInput.focus();
                } else {
                    manualInput.classList.add('hidden');
                    portfolioData.education.btech.branch = e.target.value;
                    updatePreview();
                }
            });

            document.getElementById('addSkillBtn').addEventListener('click', addSkill);
            document.getElementById('skillInput').addEventListener('keypress', e => { if (e.key === 'Enter') addSkill(); });
            document.querySelectorAll('.quick-skill').forEach(btn => {
                btn.addEventListener('click', () => { document.getElementById('skillInput').value = btn.textContent.trim(); addSkill(); });
            });

            // Branch tab switching
            document.querySelectorAll('.branch-tab').forEach(tab => {
                tab.addEventListener('click', () => switchBranch(tab.dataset.branch));
            });

            document.getElementById('addProjectBtn').addEventListener('click', addProject);

            document.getElementById('addCertBtn').addEventListener('click', addCertification);
            document.getElementById('certImageFile').addEventListener('change', handleCertImageUpload);
            document.getElementById('certImageUrl').addEventListener('input', handleCertImageUrlPreview);
            document.getElementById('certPlatform').addEventListener('change', handlePlatformSelect);

            ['github', 'linkedin', 'twitter', 'instagram', 'website'].forEach(id => {
                document.getElementById(id).addEventListener('input', e => { portfolioData.social[id] = e.target.value; updatePreview(); });
            });

            document.querySelectorAll('.theme-card').forEach(card => {
                card.addEventListener('click', () => selectTheme(card));
            });

            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.addEventListener('click', () => selectColor(btn));
            });

            document.querySelectorAll('.radius-btn').forEach(btn => {
                btn.addEventListener('click', () => selectRadius(btn));
            });

            document.querySelectorAll('.border-width-btn').forEach(btn => {
                btn.addEventListener('click', () => selectBorderWidth(btn));
            });

            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('downloadBtn').addEventListener('click', downloadPortfolio);
            document.getElementById('copyCodeBtn').addEventListener('click', copyCode);
            document.getElementById('copyCodeBtn2').addEventListener('click', copyCode);
            document.getElementById('portfolioModal').addEventListener('click', e => { if (e.target.id === 'portfolioModal') closeModal(); });

            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });

            document.getElementById('refreshPreview').addEventListener('click', updatePreview);
            document.getElementById('togglePreview').addEventListener('click', () => {
                const previewSection = document.getElementById('previewSection');
                previewSection.classList.toggle('hidden');
                previewSection.classList.toggle('lg:block');
            });
        }

        function handlePlatformSelect() {
            const select = document.getElementById('certPlatform');
            const manualInput = document.getElementById('certIssuer');
            if (select.value === 'Other') {
                manualInput.classList.remove('hidden');
                manualInput.focus();
            } else {
                manualInput.classList.add('hidden');
                manualInput.value = select.value;
            }
        }

        function handleCertImageUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    window.currentCertImage = event.target.result;
                    document.getElementById('certImagePreview').innerHTML = '<img src="' + event.target.result + '" class="w-full h-full object-cover">';
                    document.getElementById('certImageUrl').value = '';
                    showToast('Certificate image uploaded!');
                };
                reader.readAsDataURL(file);
            }
        }

        function handleCertImageUrlPreview(e) {
            const url = e.target.value;
            window.currentCertImage = url;
            const preview = document.getElementById('certImagePreview');
            if (url) {
                preview.innerHTML = '<img src="' + url + '" class="w-full h-full object-cover" onerror="this.parentElement.innerHTML=\'<i class=\\\'fas fa-file-image text-gray-400 text-xl\\\'></i>\'">';
            } else {
                preview.innerHTML = '<i class="fas fa-file-image text-gray-400 text-xl"></i>';
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tab);
                btn.classList.toggle('text-gray-600', btn.dataset.tab !== tab);
            });
            document.getElementById('previewTab').classList.toggle('hidden', tab !== 'preview');
            document.getElementById('codeTab').classList.toggle('hidden', tab !== 'code');
        }

        function copyCode() {
            if (window.generatedHTML) {
                navigator.clipboard.writeText(window.generatedHTML).then(() => showToast('Code copied to clipboard!'));
            }
        }

        function navigateStep(direction) {
            const newStep = currentStep + direction;
            if (newStep < 1 || newStep > totalSteps) return;
            if (direction === 1 && currentStep === 1) {
                const name = document.getElementById('fullName').value.trim();
                const title = document.getElementById('title').value.trim();
                if (!name || !title) { showToast('Please fill in your name and title', 'error'); return; }
            }
            document.getElementById('step' + currentStep).classList.remove('step-active');
            document.getElementById('step' + currentStep).classList.add('step-hidden');
            currentStep = newStep;
            document.getElementById('step' + currentStep).classList.remove('step-hidden');
            document.getElementById('step' + currentStep).classList.add('step-active');
            updateProgressUI();
            updatePreview();
        }

        function updateProgressUI() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 'Step ' + currentStep + ' of ' + totalSteps;
            document.getElementById('prevBtn').disabled = currentStep === 1;
            document.getElementById('prevBtn').classList.toggle('opacity-50', currentStep === 1);
            document.getElementById('prevBtn').classList.toggle('cursor-not-allowed', currentStep === 1);
            if (currentStep === totalSteps) {
                document.getElementById('nextBtn').classList.add('hidden');
                document.getElementById('generateBtn').classList.remove('hidden');
                document.getElementById('generateBtn').classList.add('flex');
            } else {
                document.getElementById('nextBtn').classList.remove('hidden');
                document.getElementById('generateBtn').classList.add('hidden');
                document.getElementById('generateBtn').classList.remove('flex');
            }
        }

        function handlePhotoUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    portfolioData.personal.photoUrl = event.target.result;
                    document.getElementById('photoPreview').innerHTML = '<img src="' + event.target.result + '" class="w-full h-full object-cover">';
                    document.getElementById('photoUrl').value = '';
                    updatePreview();
                    showToast('Photo uploaded successfully!');
                };
                reader.readAsDataURL(file);
            }
        }

        function handlePhotoUrlPreview(e) {
            const url = e.target.value;
            portfolioData.personal.photoUrl = url;
            const preview = document.getElementById('photoPreview');
            if (url) preview.innerHTML = '<img src="' + url + '" class="w-full h-full object-cover" onerror="this.parentElement.innerHTML=\'<i class=\\\'fas fa-user text-gray-400 text-xl\\\'></i>\'">';
            else preview.innerHTML = '<i class="fas fa-user text-gray-400 text-xl"></i>';
            updatePreview();
        }

        function handleBioInput(e) {
            const bio = e.target.value;
            portfolioData.personal.bio = bio;
            document.getElementById('bioCount').textContent = bio.length + '/500';
            if (bio.length > 500) { e.target.value = bio.substring(0, 500); portfolioData.personal.bio = e.target.value; }
            updatePreview();
        }

        function updateEducationData(e) {
            const id = e.target.id;
            if (id.startsWith('ssc')) { const field = id.replace('ssc', '').toLowerCase(); portfolioData.education.ssc[field] = e.target.value; }
            else if (id.startsWith('inter')) { const field = id.replace('inter', '').toLowerCase(); portfolioData.education.inter[field] = e.target.value; }
            else if (id.startsWith('btech')) {
                const field = id.replace('btech', '').toLowerCase();
                if (field === 'startyear') portfolioData.education.btech.startYear = e.target.value;
                else if (field === 'endyear') portfolioData.education.btech.endYear = e.target.value;
                else portfolioData.education.btech[field] = e.target.value;
            }
            updatePreview();
        }

        function addSkill() {
            const input = document.getElementById('skillInput');
            const level = document.getElementById('skillLevel').value;
            const skillName = input.value.trim();
            if (!skillName) { showToast('Please enter a skill name', 'error'); return; }
            if (portfolioData.skills.some(s => s.name.toLowerCase() === skillName.toLowerCase())) { showToast('Skill already added', 'error'); return; }
            portfolioData.skills.push({ name: skillName, level });
            input.value = '';
            renderSkills();
            updatePreview();
            showToast(skillName + ' added!');
        }

        function renderSkills() {
            const container = document.getElementById('skillsContainer');
            const noSkillsMsg = document.getElementById('noSkillsMessage');
            if (portfolioData.skills.length === 0) { noSkillsMsg.classList.remove('hidden'); container.innerHTML = ''; return; }
            noSkillsMsg.classList.add('hidden');
            const levelColors = { 'Beginner': 'bg-blue-100 text-blue-700', 'Intermediate': 'bg-green-100 text-green-700', 'Advanced': 'bg-purple-100 text-purple-700', 'Expert': 'bg-amber-100 text-amber-700' };
            container.innerHTML = portfolioData.skills.map((skill, index) => '<div class="skill-tag inline-flex items-center gap-2 px-3 py-2 rounded-lg ' + levelColors[skill.level] + '"><span class="font-medium">' + skill.name + '</span><span class="text-xs opacity-70">' + skill.level + '</span><button onclick="removeSkill(' + index + ')" class="ml-1 hover:opacity-70"><i class="fas fa-times text-xs"></i></button></div>').join('');
        }

        function removeSkill(index) { portfolioData.skills.splice(index, 1); renderSkills(); updatePreview(); }

        function addProject() {
            const name = document.getElementById('projectName').value.trim();
            const url = document.getElementById('projectUrl').value.trim();
            const image = document.getElementById('projectImage').value.trim();
            const desc = document.getElementById('projectDesc').value.trim();
            const tech = document.getElementById('projectTech').value.trim();
            if (!name) { showToast('Please enter a project name', 'error'); return; }
            portfolioData.projects.push({ name, url, image, description: desc, technologies: tech.split(',').map(t => t.trim()).filter(t => t) });
            document.getElementById('projectName').value = '';
            document.getElementById('projectUrl').value = '';
            document.getElementById('projectImage').value = '';
            document.getElementById('projectDesc').value = '';
            document.getElementById('projectTech').value = '';
            renderProjects();
            updatePreview();
            showToast('Project added successfully!');
        }

        function renderProjects() {
            const container = document.getElementById('projectsContainer');
            const noProjectsMsg = document.getElementById('noProjectsMessage');
            if (portfolioData.projects.length === 0) { noProjectsMsg.classList.remove('hidden'); container.innerHTML = ''; return; }
            noProjectsMsg.classList.add('hidden');
            container.innerHTML = portfolioData.projects.map((project, index) => '<div class="bg-white border border-gray-200 rounded-xl p-4 card-hover"><div class="flex items-start gap-4">' + (project.image ? '<img src="' + project.image + '" class="w-16 h-16 rounded-lg object-cover">' : '') + '<div class="flex-1"><div class="flex items-start justify-between"><div><h4 class="font-semibold text-gray-800">' + project.name + '</h4>' + (project.url ? '<a href="' + project.url + '" target="_blank" class="text-xs text-indigo-500 hover:underline">' + project.url + '</a>' : '') + '</div><button onclick="removeProject(' + index + ')" class="p-1 text-gray-400 hover:text-red-500"><i class="fas fa-trash-alt"></i></button></div>' + (project.description ? '<p class="text-sm text-gray-600 mt-2">' + project.description + '</p>' : '') + (project.technologies.length > 0 ? '<div class="flex flex-wrap gap-1 mt-2">' + project.technologies.map(t => '<span class="text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded">' + t + '</span>').join('') + '</div>' : '') + '</div></div></div>').join('');
        }

        function removeProject(index) { portfolioData.projects.splice(index, 1); renderProjects(); updatePreview(); }

        function addCertification() {
            const name = document.getElementById('certName').value.trim();
            const platform = document.getElementById('certPlatform').value;
            const issuer = platform === 'Other' ? document.getElementById('certIssuer').value.trim() : platform;
            const date = document.getElementById('certDate').value;
            const credentialId = document.getElementById('certId').value.trim();
            const url = document.getElementById('certUrl').value.trim();
            const image = window.currentCertImage || '';
            if (!name) { showToast('Please enter a certification name', 'error'); return; }
            if (!issuer) { showToast('Please select a platform', 'error'); return; }
            portfolioData.certifications.push({ name, issuer, date, credentialId, url, image });
            document.getElementById('certName').value = '';
            document.getElementById('certPlatform').value = '';
            document.getElementById('certIssuer').value = '';
            document.getElementById('certIssuer').classList.add('hidden');
            document.getElementById('certDate').value = '';
            document.getElementById('certId').value = '';
            document.getElementById('certUrl').value = '';
            document.getElementById('certImageUrl').value = '';
            document.getElementById('certImageFile').value = '';
            document.getElementById('certImagePreview').innerHTML = '<i class="fas fa-file-image text-gray-400 text-xl"></i>';
            window.currentCertImage = '';
            renderCertifications();
            updatePreview();
            showToast('Certification added successfully!');
        }

        function renderCertifications() {
            const container = document.getElementById('certificationsContainer');
            const noCertsMsg = document.getElementById('noCertsMessage');
            if (portfolioData.certifications.length === 0) { noCertsMsg.classList.remove('hidden'); container.innerHTML = ''; return; }
            noCertsMsg.classList.add('hidden');
            container.innerHTML = portfolioData.certifications.map((cert, index) => '<div class="bg-white border border-gray-200 rounded-xl p-4 card-hover"><div class="flex items-start justify-between"><div class="flex items-start gap-3 flex-1">' + (cert.image ? '<img src="' + cert.image + '" class="w-16 h-16 rounded-lg object-cover flex-shrink-0">' : '<div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0"><i class="fas fa-certificate text-yellow-600"></i></div>') + '<div class="flex-1"><h4 class="font-semibold text-gray-800">' + cert.name + '</h4>' + (cert.issuer ? '<p class="text-sm text-gray-600"><i class="fas fa-building mr-1 text-yellow-500"></i>' + cert.issuer + '</p>' : '') + (cert.date ? '<span class="text-xs text-gray-500"><i class="fas fa-calendar mr-1"></i>' + formatDate(cert.date) + '</span>' : '') + (cert.url ? '<a href="' + cert.url + '" target="_blank" class="text-xs text-indigo-500 hover:underline block mt-1"><i class="fas fa-external-link-alt mr-1"></i>View Credential</a>' : '') + '</div></div><button onclick="removeCertification(' + index + ')" class="p-1 text-gray-400 hover:text-red-500"><i class="fas fa-trash-alt"></i></button></div></div>').join('');
        }

        function formatDate(dateStr) {
            if (!dateStr) return '';
            const [year, month] = dateStr.split('-');
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            return months[parseInt(month) - 1] + ' ' + year;
        }

        function removeCertification(index) { portfolioData.certifications.splice(index, 1); renderCertifications(); updatePreview(); }

        function switchBranch(branch) {
            // Update tab styles
            document.querySelectorAll('.branch-tab').forEach(tab => {
                if (tab.dataset.branch === branch) {
                    tab.classList.add('bg-purple-500', 'text-white');
                    tab.classList.remove('bg-gray-100', 'text-gray-600');
                } else {
                    tab.classList.remove('bg-purple-500', 'text-white');
                    tab.classList.add('bg-gray-100', 'text-gray-600');
                }
            });
            // Show/hide skill sections
            document.querySelectorAll('.branch-skills').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById('skills-' + branch).classList.remove('hidden');
        }

        function selectTheme(card) {
            document.querySelectorAll('.theme-card').forEach(c => { c.classList.remove('selected', 'border-indigo-500'); c.classList.add('border-gray-200'); });
            card.classList.add('selected', 'border-indigo-500'); card.classList.remove('border-gray-200');
            portfolioData.theme = card.dataset.theme;
            updatePreview();
        }

        function selectColor(btn) {
            document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('ring-2'));
            btn.classList.add('ring-2');
            portfolioData.accentColor = btn.dataset.color;
            updatePreview();
        }

        function selectRadius(btn) {
            document.querySelectorAll('.radius-btn').forEach(b => { b.classList.remove('border-indigo-500', 'border-2', 'text-indigo-600'); b.classList.add('border-gray-200', 'border', 'text-gray-600'); });
            btn.classList.remove('border-gray-200', 'border', 'text-gray-600'); btn.classList.add('border-indigo-500', 'border-2', 'text-indigo-600');
            portfolioData.borderRadius = parseInt(btn.dataset.radius);
            updatePreview();
        }

        function selectBorderWidth(btn) {
            document.querySelectorAll('.border-width-btn').forEach(b => { b.classList.remove('border-indigo-500', 'border-2', 'text-indigo-600'); b.classList.add('border-gray-200', 'border', 'text-gray-600'); });
            btn.classList.remove('border-gray-200', 'border', 'text-gray-600'); btn.classList.add('border-indigo-500', 'border-2', 'text-indigo-600');
            portfolioData.borderWidth = parseInt(btn.dataset.border);
            updatePreview();
        }

        function updatePreview() {
            const preview = document.getElementById('previewContent');
            const { personal, skills, projects, social, theme, accentColor, visibility } = portfolioData;
            const themeStyles = {
                modern: { bg: 'bg-gradient-to-br from-indigo-50 to-purple-50', card: 'bg-white', text: 'text-gray-800' },
                minimal: { bg: 'bg-white', card: 'bg-gray-50', text: 'text-gray-900' },
                dark: { bg: 'bg-gray-900', card: 'bg-gray-800', text: 'text-white' },
                creative: { bg: 'bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100', card: 'bg-white/80', text: 'text-gray-800' },
                ocean: { bg: 'bg-gradient-to-br from-cyan-50 to-blue-100', card: 'bg-white', text: 'text-gray-800' },
                sunset: { bg: 'bg-gradient-to-br from-orange-50 to-pink-100', card: 'bg-white', text: 'text-gray-800' }
            };
            const style = themeStyles[theme] || themeStyles.modern;
            const isDark = theme === 'dark';
            const location = [personal.address, personal.country].filter(Boolean).join(', ');

            let html = '<div class="' + style.bg + ' min-h-full -m-6 p-6">';
            html += '<div class="text-center mb-6">';
            if (personal.photoUrl) {
                html += '<img src="' + personal.photoUrl + '" class="w-20 h-20 rounded-full mx-auto mb-3 object-cover shadow-lg border-4 border-white" onerror="this.style.display=\'none\'">';
            } else {
                html += '<div class="w-20 h-20 rounded-full mx-auto mb-3 flex items-center justify-center" style="background: ' + accentColor + '"><i class="fas fa-user text-2xl text-white"></i></div>';
            }
            html += '<h1 class="text-xl font-bold ' + style.text + '">' + (personal.fullName || 'Your Name') + '</h1>';
            html += '<p class="text-base ' + (isDark ? 'text-gray-300' : 'text-gray-600') + '" style="color: ' + accentColor + '">' + (personal.title || 'Your Title') + '</p>';
            if (location) html += '<p class="text-xs ' + (isDark ? 'text-gray-400' : 'text-gray-500') + ' mt-1"><i class="fas fa-map-marker-alt mr-1"></i>' + location + '</p>';
            html += '</div>';

            if (visibility.showAbout && personal.bio) {
                html += '<div class="' + style.card + ' rounded-lg p-3 mb-4 shadow-sm"><p class="text-xs ' + (isDark ? 'text-gray-300' : 'text-gray-600') + '">' + personal.bio + '</p></div>';
            }

            if (visibility.showSkills && skills.length > 0) {
                html += '<div class="mb-4"><h3 class="text-xs font-semibold ' + style.text + ' mb-2">Skills</h3><div class="flex flex-wrap gap-1">';
                skills.slice(0, 6).forEach(s => {
                    html += '<span class="px-2 py-0.5 text-xs rounded-full text-white" style="background: ' + accentColor + '">' + s.name + '</span>';
                });
                if (skills.length > 6) html += '<span class="px-2 py-0.5 text-xs rounded-full bg-gray-200 text-gray-600">+' + (skills.length - 6) + '</span>';
                html += '</div></div>';
            }

            if (visibility.showProjects && projects.length > 0) {
                html += '<div class="mb-4"><h3 class="text-xs font-semibold ' + style.text + ' mb-2">Projects</h3><div class="space-y-2">';
                projects.slice(0, 2).forEach(p => {
                    html += '<div class="' + style.card + ' rounded-lg p-2 shadow-sm"><h4 class="font-medium ' + style.text + ' text-xs">' + p.name + '</h4>';
                    if (p.description) html += '<p class="text-xs ' + (isDark ? 'text-gray-400' : 'text-gray-500') + ' mt-1">' + p.description.substring(0, 60) + '...</p>';
                    html += '</div>';
                });
                html += '</div></div>';
            }

            html += '<div class="flex justify-center gap-3 mt-4">';
            if (social.github) html += '<a href="' + social.github + '" class="' + (isDark ? 'text-gray-300' : 'text-gray-600') + '"><i class="fab fa-github text-lg"></i></a>';
            if (social.linkedin) html += '<a href="' + social.linkedin + '" class="text-blue-600"><i class="fab fa-linkedin text-lg"></i></a>';
            if (social.twitter) html += '<a href="' + social.twitter + '" class="text-blue-400"><i class="fab fa-twitter text-lg"></i></a>';
            html += '</div></div>';

            preview.innerHTML = html;
        }

        function generatePortfolio() {
            const { personal, education, skills, projects, certifications, social, theme, accentColor, visibility, borderRadius, borderWidth } = portfolioData;
            const phone = personal.phone ? '+91 ' + personal.phone : '';
            const location = [personal.address, personal.country].filter(Boolean).join(', ');

            const isDark = theme === 'dark';
            const textColor = isDark ? '#e2e8f0' : '#1e293b';
            const subTextColor = isDark ? '#94a3b8' : '#64748b';

            let bodyStyle, headerStyle, cardStyle;

            if (theme === 'modern') {
                bodyStyle = 'background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%); min-height: 100vh;';
                headerStyle = 'background: linear-gradient(135deg, ' + accentColor + ', ' + adjustColor(accentColor, -30) + '); color: white; border-radius: 24px; padding: 60px 40px; text-align: center; margin-bottom: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.15);';
                cardStyle = 'background: white; border-radius: ' + borderRadius + 'px; padding: 30px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);';
            } else if (theme === 'minimal') {
                bodyStyle = 'background: #ffffff; min-height: 100vh;';
                headerStyle = 'border-bottom: 1px solid #eee; padding-bottom: 40px; margin-bottom: 40px; text-align: center;';
                cardStyle = 'border: 1px solid #eee; border-radius: ' + borderRadius + 'px; padding: 24px; margin-bottom: 16px;';
            } else if (theme === 'dark') {
                bodyStyle = 'background: #0f172a; min-height: 100vh; color: white;';
                headerStyle = 'background: #1e293b; border-radius: 24px; padding: 60px 40px; text-align: center; margin-bottom: 30px; border: 1px solid #334155;';
                cardStyle = 'background: #1e293b; border-radius: ' + borderRadius + 'px; padding: 30px; margin-bottom: 20px; border: 1px solid #334155;';
            } else if (theme === 'creative') {
                bodyStyle = 'background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ee9ca7 100%); min-height: 100vh;';
                headerStyle = 'background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); border-radius: 30px; padding: 60px 40px; text-align: center; margin-bottom: 30px;';
                cardStyle = 'background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); border-radius: ' + borderRadius + 'px; padding: 30px; margin-bottom: 20px;';
            } else if (theme === 'ocean') {
                bodyStyle = 'background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 50%, #80deea 100%); min-height: 100vh;';
                headerStyle = 'background: linear-gradient(135deg, #0097a7, #00838f); color: white; border-radius: 24px; padding: 60px 40px; text-align: center; margin-bottom: 30px;';
                cardStyle = 'background: white; border-radius: ' + borderRadius + 'px; padding: 30px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(0,150,167,0.1);';
            } else {
                bodyStyle = 'background: linear-gradient(135deg, #fff3e0 0%, #ffccbc 50%, #ffab91 100%); min-height: 100vh;';
                headerStyle = 'background: linear-gradient(135deg, #ff7043, #f4511e); color: white; border-radius: 24px; padding: 60px 40px; text-align: center; margin-bottom: 30px;';
                cardStyle = 'background: white; border-radius: ' + borderRadius + 'px; padding: 30px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(244,81,30,0.1);';
            }

            let portfolioHTML = '<!DOCTYPE html>\n<html lang="en">\n<head>\n';
            portfolioHTML += '    <meta charset="UTF-8">\n';
            portfolioHTML += '    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n';
            portfolioHTML += '    <title>' + (personal.fullName || 'My Portfolio') + ' - Portfolio</title>\n';
            portfolioHTML += '    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">\n';
            portfolioHTML += '    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">\n';
            portfolioHTML += '    <style>\n';
            portfolioHTML += '        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Inter", sans-serif; }\n';
            portfolioHTML += '        body { ' + bodyStyle + ' }\n';
            portfolioHTML += '        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }\n';
            portfolioHTML += '        .header { ' + headerStyle + ' }\n';
            portfolioHTML += '        .card { ' + cardStyle + ' }\n';
            portfolioHTML += '        .profile-img { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid rgba(255,255,255,0.3); margin-bottom: 20px; }\n';
            portfolioHTML += '        .name { font-size: 2.5rem; font-weight: 800; margin-bottom: 8px; }\n';
            portfolioHTML += '        .title { font-size: 1.25rem; opacity: 0.9; margin-bottom: 12px; color: ' + (theme === 'modern' || theme === 'ocean' || theme === 'sunset' ? 'rgba(255,255,255,0.9)' : accentColor) + '; }\n';
            portfolioHTML += '        .section-title { font-size: 1.25rem; font-weight: 700; color: ' + textColor + '; margin-bottom: 16px; display: flex; align-items: center; gap: 10px; }\n';
            portfolioHTML += '        .section-title i { color: ' + accentColor + '; }\n';
            portfolioHTML += '        .bio { color: ' + subTextColor + '; line-height: 1.7; font-size: 1rem; }\n';
            portfolioHTML += '        .skills-grid { display: flex; flex-wrap: wrap; gap: 10px; }\n';
            portfolioHTML += '        .skill-tag { background: ' + accentColor + '; color: white; padding: 8px 16px; border-radius: 25px; font-size: 0.9rem; font-weight: 500; }\n';
            portfolioHTML += '        .project-card { display: flex; gap: 20px; align-items: start; margin-bottom: 24px; }\n';
            portfolioHTML += '        .project-img { width: 120px; height: 80px; border-radius: 12px; object-fit: cover; }\n';
            portfolioHTML += '        .project-info h3 { font-size: 1.1rem; font-weight: 600; color: ' + textColor + '; margin-bottom: 6px; }\n';
            portfolioHTML += '        .project-info p { color: ' + subTextColor + '; font-size: 0.9rem; line-height: 1.5; margin-bottom: 10px; }\n';
            portfolioHTML += '        .project-link { color: ' + accentColor + '; text-decoration: none; font-size: 0.85rem; font-weight: 500; }\n';
            portfolioHTML += '        .tech-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }\n';
            portfolioHTML += '        .tech-tag { background: ' + (isDark ? '#334155' : '#f1f5f9') + '; color: ' + subTextColor + '; padding: 4px 10px; border-radius: 6px; font-size: 0.75rem; }\n';
            portfolioHTML += '        .cert-card { display: flex; align-items: start; gap: 16px; padding: 20px; background: ' + (isDark ? '#334155' : '#f8fafc') + '; border-radius: 12px; margin-bottom: 12px; }\n';
            portfolioHTML += '        .cert-icon { width: 50px; height: 50px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 12px; display: flex; align-items: center; justify-content: center; }\n';
            portfolioHTML += '        .cert-image { width: 80px; height: 80px; border-radius: 12px; object-fit: cover; cursor: pointer; }\n';
            portfolioHTML += '        .cert-info h4 { font-weight: 600; color: ' + textColor + '; margin-bottom: 4px; }\n';
            portfolioHTML += '        .cert-info p { color: ' + subTextColor + '; font-size: 0.9rem; }\n';
            portfolioHTML += '        .social-links { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }\n';
            portfolioHTML += '        .social-links a { width: 50px; height: 50px; border-radius: 50%; background: ' + (theme === 'modern' || theme === 'ocean' || theme === 'sunset' ? 'rgba(255,255,255,0.2)' : (isDark ? '#334155' : '#f1f5f9')) + '; display: flex; align-items: center; justify-content: center; color: ' + (theme === 'modern' || theme === 'ocean' || theme === 'sunset' ? 'white' : textColor) + '; text-decoration: none; font-size: 1.25rem; transition: all 0.3s; }\n';
            portfolioHTML += '        .social-links a:hover { background: ' + accentColor + '; color: white; transform: translateY(-3px); }\n';
            portfolioHTML += '        .contact-info { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 20px; }\n';
            portfolioHTML += '        .contact-item { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }\n';
            portfolioHTML += '        .contact-item i { color: ' + (theme === 'modern' || theme === 'ocean' || theme === 'sunset' ? 'rgba(255,255,255,0.8)' : accentColor) + '; }\n';
            portfolioHTML += '        .footer { text-align: center; padding: 40px 20px; color: ' + subTextColor + '; font-size: 0.85rem; }\n';
            portfolioHTML += '        @media (max-width: 640px) { .project-card { flex-direction: column; } .project-img { width: 100%; height: 180px; } .name { font-size: 2rem; } .contact-info { flex-direction: column; align-items: center; gap: 15px; } }\n';
            portfolioHTML += '    </style>\n</head>\n<body>\n';
            portfolioHTML += '    <div class="container">\n';
            portfolioHTML += '        <header class="header">\n';
            if (personal.photoUrl) {
                portfolioHTML += '            <img src="' + personal.photoUrl + '" alt="' + personal.fullName + '" class="profile-img">\n';
            }
            portfolioHTML += '            <h1 class="name">' + (personal.fullName || 'Your Name') + '</h1>\n';
            portfolioHTML += '            <p class="title">' + (personal.title || 'Your Professional Title') + '</p>\n';
            if (location) portfolioHTML += '            <p style="font-size: 0.9rem; opacity: 0.8;"><i class="fas fa-map-marker-alt"></i> ' + location + '</p>\n';
            if (visibility.showContact) {
                portfolioHTML += '            <div class="contact-info">\n';
                if (personal.email) portfolioHTML += '                <div class="contact-item"><i class="fas fa-envelope"></i> ' + personal.email + '</div>\n';
                if (phone) portfolioHTML += '                <div class="contact-item"><i class="fas fa-phone"></i> ' + phone + '</div>\n';
                portfolioHTML += '            </div>\n';
            }
            portfolioHTML += '            <div class="social-links">\n';
            if (social.github) portfolioHTML += '                <a href="' + social.github + '" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>\n';
            if (social.linkedin) portfolioHTML += '                <a href="' + social.linkedin + '" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>\n';
            if (social.twitter) portfolioHTML += '                <a href="' + social.twitter + '" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>\n';
            if (social.instagram) portfolioHTML += '                <a href="' + social.instagram + '" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>\n';
            if (social.website) portfolioHTML += '                <a href="' + social.website + '" target="_blank" title="Website"><i class="fas fa-globe"></i></a>\n';
            portfolioHTML += '            </div>\n';
            portfolioHTML += '        </header>\n\n';

            if (visibility.showAbout && personal.bio) {
                portfolioHTML += '        <section class="card">\n';
                portfolioHTML += '            <h2 class="section-title"><i class="fas fa-user"></i> About Me</h2>\n';
                portfolioHTML += '            <p class="bio">' + personal.bio + '</p>\n';
                portfolioHTML += '        </section>\n\n';
            }

            if (visibility.showEducation) {
                let hasEducation = (education.btech.enabled && education.btech.college) || (education.inter.enabled && education.inter.college) || (education.ssc.enabled && education.ssc.school);
                if (hasEducation) {
                    portfolioHTML += '        <section class="card">\n';
                    portfolioHTML += '            <h2 class="section-title"><i class="fas fa-graduation-cap"></i> Education</h2>\n';
                    if (education.btech.enabled && education.btech.college) {
                        portfolioHTML += '            <div style="padding: 16px; background: ' + (isDark ? '#334155' : '#f8fafc') + '; border-radius: 12px; margin-bottom: 12px;">\n';
                        portfolioHTML += '                <h4 style="font-weight: 600; color: ' + textColor + ';">' + (education.btech.degree || 'B.Tech') + ' in ' + (education.btech.branch || 'Engineering') + '</h4>\n';
                        portfolioHTML += '                <p style="color: ' + subTextColor + ';">' + education.btech.college + '</p>\n';
                        if (education.btech.cgpa) portfolioHTML += '                <span style="font-size: 0.85rem; color: ' + subTextColor + ';"><i class="fas fa-star" style="color: ' + accentColor + ';"></i> ' + education.btech.cgpa + '</span>\n';
                        portfolioHTML += '            </div>\n';
                    }
                    if (education.inter.enabled && education.inter.college) {
                        portfolioHTML += '            <div style="padding: 16px; background: ' + (isDark ? '#334155' : '#f8fafc') + '; border-radius: 12px; margin-bottom: 12px;">\n';
                        portfolioHTML += '                <h4 style="font-weight: 600; color: ' + textColor + ';">Intermediate - ' + (education.inter.stream || 'Stream') + '</h4>\n';
                        portfolioHTML += '                <p style="color: ' + subTextColor + ';">' + education.inter.college + '</p>\n';
                        portfolioHTML += '            </div>\n';
                    }
                    if (education.ssc.enabled && education.ssc.school) {
                        portfolioHTML += '            <div style="padding: 16px; background: ' + (isDark ? '#334155' : '#f8fafc') + '; border-radius: 12px; margin-bottom: 12px;">\n';
                        portfolioHTML += '                <h4 style="font-weight: 600; color: ' + textColor + ';">10th Class - ' + (education.ssc.board || 'Board') + '</h4>\n';
                        portfolioHTML += '                <p style="color: ' + subTextColor + ';">' + education.ssc.school + '</p>\n';
                        portfolioHTML += '            </div>\n';
                    }
                    portfolioHTML += '        </section>\n\n';
                }
            }

            if (visibility.showSkills && skills.length > 0) {
                portfolioHTML += '        <section class="card">\n';
                portfolioHTML += '            <h2 class="section-title"><i class="fas fa-code"></i> Skills & Expertise</h2>\n';
                portfolioHTML += '            <div class="skills-grid">\n';
                skills.forEach(s => {
                    portfolioHTML += '                <span class="skill-tag">' + s.name + '</span>\n';
                });
                portfolioHTML += '            </div>\n';
                portfolioHTML += '        </section>\n\n';
            }

            if (visibility.showProjects && projects.length > 0) {
                portfolioHTML += '        <section class="card">\n';
                portfolioHTML += '            <h2 class="section-title"><i class="fas fa-briefcase"></i> Featured Projects</h2>\n';
                projects.forEach(p => {
                    portfolioHTML += '            <div class="project-card">\n';
                    if (p.image) portfolioHTML += '                <img src="' + p.image + '" alt="' + p.name + '" class="project-img">\n';
                    portfolioHTML += '                <div class="project-info">\n';
                    portfolioHTML += '                    <h3>' + p.name + '</h3>\n';
                    if (p.description) portfolioHTML += '                    <p>' + p.description + '</p>\n';
                    if (p.url) portfolioHTML += '                    <a href="' + p.url + '" target="_blank" class="project-link"><i class="fas fa-external-link-alt"></i> View Project</a>\n';
                    if (p.technologies.length > 0) {
                        portfolioHTML += '                    <div class="tech-tags">\n';
                        p.technologies.forEach(t => {
                            portfolioHTML += '                        <span class="tech-tag">' + t + '</span>\n';
                        });
                        portfolioHTML += '                    </div>\n';
                    }
                    portfolioHTML += '                </div>\n';
                    portfolioHTML += '            </div>\n';
                });
                portfolioHTML += '        </section>\n\n';
            }

            if (visibility.showCertifications && certifications.length > 0) {
                portfolioHTML += '        <section class="card">\n';
                portfolioHTML += '            <h2 class="section-title"><i class="fas fa-certificate"></i> Certifications & Achievements</h2>\n';
                
                // Check if there are certificates with images for the carousel
                const certsWithImages = certifications.filter(c => c.image);
                
                if (certsWithImages.length > 0) {
                    portfolioHTML += '            <div class="cert-carousel-container" style="position: relative; margin-bottom: 30px; overflow: hidden; border-radius: 16px; background: linear-gradient(135deg, ' + accentColor + '20, ' + accentColor + '10); padding: 20px;">\n';
                    portfolioHTML += '                <h3 style="font-size: 1rem; font-weight: 600; color: ' + textColor + '; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;"><i class="fas fa-images" style="color: ' + accentColor + ';"></i> Certificate Gallery</h3>\n';
                    portfolioHTML += '                <div class="cert-carousel" style="display: flex; gap: 20px; transition: transform 0.5s ease-in-out; will-change: transform;">\n';
                    certsWithImages.forEach((cert, idx) => {
                        portfolioHTML += '                    <div class="cert-slide" style="min-width: 280px; flex-shrink: 0; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer;" onclick="openCertModal(' + idx + ')">\n';
                        portfolioHTML += '                        <img src="' + cert.image + '" alt="' + cert.name + '" style="width: 100%; height: 180px; object-fit: cover;">\n';
                        portfolioHTML += '                        <div style="padding: 12px;">\n';
                        portfolioHTML += '                            <h4 style="font-size: 0.9rem; font-weight: 600; color: ' + textColor + '; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">' + cert.name + '</h4>\n';
                        portfolioHTML += '                            <p style="font-size: 0.8rem; color: ' + subTextColor + ';"><i class="fas fa-building" style="color: ' + accentColor + '; margin-right: 4px;"></i>' + (cert.issuer || 'Certificate') + '</p>\n';
                        portfolioHTML += '                        </div>\n';
                        portfolioHTML += '                    </div>\n';
                    });
                    portfolioHTML += '                </div>\n';
                    // Navigation arrows
                    portfolioHTML += '                <button onclick="moveCertCarousel(-1)" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); width: 40px; height: 40px; border-radius: 50%; background: white; border: none; box-shadow: 0 2px 10px rgba(0,0,0,0.2); cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 10;"><i class="fas fa-chevron-left" style="color: ' + accentColor + ';"></i></button>\n';
                    portfolioHTML += '                <button onclick="moveCertCarousel(1)" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); width: 40px; height: 40px; border-radius: 50%; background: white; border: none; box-shadow: 0 2px 10px rgba(0,0,0,0.2); cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 10;"><i class="fas fa-chevron-right" style="color: ' + accentColor + ';"></i></button>\n';
                    // Dots indicator
                    portfolioHTML += '                <div class="cert-dots" style="display: flex; justify-content: center; gap: 8px; margin-top: 15px;">\n';
                    certsWithImages.forEach((cert, idx) => {
                        portfolioHTML += '                    <button onclick="goToCertSlide(' + idx + ')" class="cert-dot" data-index="' + idx + '" style="width: 10px; height: 10px; border-radius: 50%; border: none; cursor: pointer; transition: all 0.3s; background: ' + (idx === 0 ? accentColor : '#ccc') + ';"></button>\n';
                    });
                    portfolioHTML += '                </div>\n';
                    portfolioHTML += '            </div>\n';
                    
                    // Modal for viewing full certificate
                    portfolioHTML += '            <div id="certModal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; padding: 20px;">\n';
                    portfolioHTML += '                <button onclick="closeCertModal()" style="position: absolute; top: 20px; right: 20px; background: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.2rem;"><i class="fas fa-times"></i></button>\n';
                    portfolioHTML += '                <img id="certModalImg" src="" alt="Certificate" style="max-width: 90%; max-height: 90%; object-fit: contain; border-radius: 8px;">\n';
                    portfolioHTML += '            </div>\n';
                }
                
                // List all certifications
                portfolioHTML += '            <div class="cert-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">\n';
                certifications.forEach(cert => {
                    portfolioHTML += '            <div class="cert-card" style="display: flex; align-items: start; gap: 16px; padding: 20px; background: ' + (isDark ? '#334155' : '#f8fafc') + '; border-radius: 12px; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform=\'translateY(-3px)\'; this.style.boxShadow=\'0 8px 25px rgba(0,0,0,0.15)\';" onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'none\';">\n';
                    if (cert.image) {
                        portfolioHTML += '                <img src="' + cert.image + '" alt="' + cert.name + '" style="width: 70px; height: 70px; border-radius: 10px; object-fit: cover; cursor: pointer;" onclick="this.parentElement.querySelector(\'.cert-img-preview\') || window.open(\'' + cert.image + '\', \'_blank\')">\n';
                    } else {
                        portfolioHTML += '                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><i class="fas fa-award" style="color: white; font-size: 1.25rem;"></i></div>\n';
                    }
                    portfolioHTML += '                <div class="cert-info" style="flex: 1;">\n';
                    portfolioHTML += '                    <h4 style="font-weight: 600; color: ' + textColor + '; margin-bottom: 4px;">' + cert.name + '</h4>\n';
                    if (cert.issuer) portfolioHTML += '                    <p style="color: ' + subTextColor + '; font-size: 0.9rem; margin-bottom: 4px;"><i class="fas fa-building" style="color: ' + accentColor + '; margin-right: 4px;"></i>' + cert.issuer + '</p>\n';
                    if (cert.date) portfolioHTML += '                    <span style="font-size: 0.85rem; color: ' + subTextColor + '; display: block; margin-bottom: 4px;"><i class="fas fa-calendar" style="color: ' + accentColor + '; margin-right: 4px;"></i>' + formatDate(cert.date) + '</span>\n';
                    if (cert.credentialId) portfolioHTML += '                    <span style="font-size: 0.8rem; color: ' + subTextColor + '; display: block;"><i class="fas fa-id-card" style="color: ' + accentColor + '; margin-right: 4px;"></i>ID: ' + cert.credentialId + '</span>\n';
                    if (cert.url) portfolioHTML += '                    <a href="' + cert.url + '" target="_blank" style="color: ' + accentColor + '; text-decoration: none; font-size: 0.85rem; display: inline-block; margin-top: 8px; font-weight: 500;"><i class="fas fa-external-link-alt" style="margin-right: 4px;"></i>View Credential</a>\n';
                    portfolioHTML += '                </div>\n';
                    portfolioHTML += '            </div>\n';
                });
                portfolioHTML += '            </div>\n';
                portfolioHTML += '        </section>\n\n';
            }

            portfolioHTML += '        <footer class="footer">\n';
            portfolioHTML += '            <p>&copy; ' + new Date().getFullYear() + ' ' + (personal.fullName || 'Portfolio') + '. Built with  using MyFolio</p>\n';
            portfolioHTML += '        </footer>\n';
            portfolioHTML += '    </div>\n';
            
            // Add JavaScript for certificate carousel auto-sliding
            if (certifications.filter(c => c.image).length > 0) {
                portfolioHTML += '    <script>\n';
                portfolioHTML += '        let certCurrentSlide = 0;\n';
                portfolioHTML += '        const certImages = ' + JSON.stringify(certifications.filter(c => c.image).map(c => c.image)) + ';\n';
                portfolioHTML += '        const certTotalSlides = certImages.length;\n';
                portfolioHTML += '        let certAutoSlide;\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function updateCertCarousel() {\n';
                portfolioHTML += '            const carousel = document.querySelector(".cert-carousel");\n';
                portfolioHTML += '            if (carousel) {\n';
                portfolioHTML += '                const slideWidth = 300;\n';
                portfolioHTML += '                carousel.style.transform = "translateX(-" + (certCurrentSlide * slideWidth) + "px)";\n';
                portfolioHTML += '                document.querySelectorAll(".cert-dot").forEach((dot, idx) => {\n';
                portfolioHTML += '                    dot.style.background = idx === certCurrentSlide ? "' + accentColor + '" : "#ccc";\n';
                portfolioHTML += '                    dot.style.transform = idx === certCurrentSlide ? "scale(1.3)" : "scale(1)";\n';
                portfolioHTML += '                });\n';
                portfolioHTML += '            }\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function moveCertCarousel(direction) {\n';
                portfolioHTML += '            certCurrentSlide += direction;\n';
                portfolioHTML += '            if (certCurrentSlide < 0) certCurrentSlide = certTotalSlides - 1;\n';
                portfolioHTML += '            if (certCurrentSlide >= certTotalSlides) certCurrentSlide = 0;\n';
                portfolioHTML += '            updateCertCarousel();\n';
                portfolioHTML += '            resetCertAutoSlide();\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function goToCertSlide(index) {\n';
                portfolioHTML += '            certCurrentSlide = index;\n';
                portfolioHTML += '            updateCertCarousel();\n';
                portfolioHTML += '            resetCertAutoSlide();\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function openCertModal(index) {\n';
                portfolioHTML += '            const modal = document.getElementById("certModal");\n';
                portfolioHTML += '            const img = document.getElementById("certModalImg");\n';
                portfolioHTML += '            if (modal && img) {\n';
                portfolioHTML += '                img.src = certImages[index];\n';
                portfolioHTML += '                modal.style.display = "flex";\n';
                portfolioHTML += '            }\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function closeCertModal() {\n';
                portfolioHTML += '            const modal = document.getElementById("certModal");\n';
                portfolioHTML += '            if (modal) modal.style.display = "none";\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function startCertAutoSlide() {\n';
                portfolioHTML += '            certAutoSlide = setInterval(function() {\n';
                portfolioHTML += '                certCurrentSlide++;\n';
                portfolioHTML += '                if (certCurrentSlide >= certTotalSlides) certCurrentSlide = 0;\n';
                portfolioHTML += '                updateCertCarousel();\n';
                portfolioHTML += '            }, 5000);\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        function resetCertAutoSlide() {\n';
                portfolioHTML += '            clearInterval(certAutoSlide);\n';
                portfolioHTML += '            startCertAutoSlide();\n';
                portfolioHTML += '        }\n';
                portfolioHTML += '        \n';
                portfolioHTML += '        document.addEventListener("DOMContentLoaded", function() {\n';
                portfolioHTML += '            startCertAutoSlide();\n';
                portfolioHTML += '            document.getElementById("certModal").addEventListener("click", function(e) {\n';
                portfolioHTML += '                if (e.target === this) closeCertModal();\n';
                portfolioHTML += '            });\n';
                portfolioHTML += '        });\n';
                portfolioHTML += '    <\/script>\n';
            }
            
            portfolioHTML += '</body>\n</html>';

            window.generatedHTML = portfolioHTML;

            const modal = document.getElementById('portfolioModal');
            const iframe = document.getElementById('portfolioFrame');
            const codeViewer = document.getElementById('codeViewer');

            modal.classList.remove('hidden');
            iframe.srcdoc = portfolioHTML;
            codeViewer.textContent = portfolioHTML;

            switchTab('preview');
        }

        function adjustColor(color, amount) {
            const hex = color.replace('#', '');
            const num = parseInt(hex, 16);
            const r = Math.min(255, Math.max(0, (num >> 16) + amount));
            const g = Math.min(255, Math.max(0, ((num >> 8) & 0x00FF) + amount));
            const b = Math.min(255, Math.max(0, (num & 0x0000FF) + amount));
            return '#' + (1 << 24 | r << 16 | g << 8 | b).toString(16).slice(1);
        }

        function closeModal() {
            document.getElementById('portfolioModal').classList.add('hidden');
        }

        function downloadPortfolio() {
            if (!window.generatedHTML) return;
            const blob = new Blob([window.generatedHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = (portfolioData.personal.fullName ? portfolioData.personal.fullName.replace(/\s+/g, '_') : 'portfolio') + '_portfolio.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showToast('Portfolio downloaded successfully!');
        }
    </script>
</body>
</html>
